!function(t,e,i){"use strict";function n(){var e="NATION.Animation",i={"NATION.Utils":NATION.Utils};t.waitingDependencies=t.waitingDependencies||{};var s=!0;for(var o in i)if(!i[o]){t.waitingDependencies[e]={dependencies:i,callback:function(){n()}},s=!1;break}if(s){delete t.waitingDependencies[e],r();for(var a in t.waitingDependencies)for(o in t.waitingDependencies[a].dependencies)o===e&&t.waitingDependencies[a].callback()}}function r(){var i=function(){this.prioritiseJS=!1,this.transitionString="",this.transitionEndString="",this.checkCSSSupport(),this.activeAnimations=[],this.animRequest=null,this.UNITLESS_VALUES=["columnCount","fillOpacity","flexGrow","flexShrink","fontWeight","lineHeight","opacity","order","orphans","widows","zIndex","zoom"],this.unitRegex=/%|px|#|rgba|rgb|hsla|hsl|pt|em|rem|vh|vw|vmin|vmax|ex|ch|cm|mm|q|in|pc|transparent/i,this.colorUnitRegex=/#|rgba|rgb|hsla|hsl|transparent/gi};i.prototype.DEFAULT_EASING="linear",i.prototype.DEFAULT_DURATION=1e3,i.prototype.CSS3_SUPPORTED=!1,i.prototype.start=function(i,n,s,o){var a,h;if(n){a={};for(h in n)a[h]=n[h];n=a}if("function"==typeof s&&(o=s),s){a={};for(h in s)a[h]=s[h];s=a}else s={};s&&o&&(s.complete=o),s.easing=s.easing||this.DEFAULT_EASING,s.duration=s.duration||this.DEFAULT_DURATION,s.delay=s.delay||0,(s.forcejs||s.useJS)&&(s.jsMode=!0),s.jsMode||this.CSS3_SUPPORTED&&this.cssAnimationOnPropertiesSupported(n)||(s.jsMode=!0);var p,l=[],c=[],u=0;if(i.length){for(var d=[],g=0,m=i.length;m>g;g++)d[g]=NATION.Utils.getDOMElement(i[g]);for(g=0;m>g;g++)this.stop(d[g]),c=this.preprocessProperties(d[g],n),s.stagger&&(u+=s.stagger,s.delay=u),p=new r(d[g],c,s,o),l.push(p),this.activeAnimations.push(p)}else i=(n.hasOwnProperty("scrollLeft")||n.hasOwnProperty("scrollTop"))&&(i===e.documentElement||i===e||i===t||i===e.body)?NATION.Utils.getPageElement():NATION.Utils.getDOMElement(i),this.stop(i),c=this.preprocessProperties(i,n),p=new r(i,c,s,o),this.activeAnimations.push(p);this.animRequest||(this.animRequest=requestAnimationFrame(this.updateActiveAnimations.bind(this)))},i.prototype.stop=function(t){if(t.length){for(var e=[],i=0,n=t.length;n>i;i++)e[i]=NATION.Utils.getDOMElement(t[i]);for(i=0;n>i;i++)this.removeAnimation(e[i])}else t=NATION.Utils.getDOMElement(t),this.removeAnimation(t)},i.prototype.pause=function(t){var e=0,i=0;if(t.length){var n=[];for(i=t.length;i>e;e++)n[e]=NATION.Utils.getDOMElement(t[e]);t=n}else t=NATION.Utils.getDOMElement(t);for(e=0,i=this.activeAnimations.length;i>e;e++)(t.length&&this.inNodeList(this.activeAnimations[e].DOMElement,t)||this.activeAnimations[e].DOMElement===t)&&this.activeAnimations[e].pause()},i.prototype.resume=function(t){var e=0,i=0;if(t.length){var n=[];for(i=t.length;i>e;e++)n[e]=NATION.Utils.getDOMElement(t[e]);t=n}else t=NATION.Utils.getDOMElement(t);for(e=0,i=this.activeAnimations.length;i>e;e++)(t.length&&this.inNodeList(this.activeAnimations[e].DOMElement,t)||this.activeAnimations[e].DOMElement===t)&&this.activeAnimations[e].resume()},i.prototype.setJSMode=function(t){this.prioritiseJS=t},i.prototype.inNodeList=function(t,e){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return!0;return!1},i.prototype.ERROR_INVALID_TRANSFORM="NATION.Animation: The value '{{value}}' supplied for '{{transform}}' is invalid.",i.prototype.removeAnimation=function(t){for(var e=0,i=this.activeAnimations.length,n=[];i>e;e++)this.activeAnimations[e].DOMElement===t?this.activeAnimations[e].stop():n.push(this.activeAnimations[e]);this.activeAnimations=n},i.prototype.cssAnimationOnPropertiesSupported=function(t){var e=null;for(e in t)if(e.search(/scroll/g)>=0||t[e].toString().search("hsl")>=0)return!1;return!0},i.prototype.checkCSSSupport=function(){for(var t=e.createElement("div"),i=["","webkit","moz","o"],n="",r=0,s=i.length;s>r;r++)if(n=""===i[r]?"transition":i[r]+"Transition",n in t.style)return this.transitionString=n,""===i[r]?this.transitionEndString="transitionend":"webkit"===i[r]?this.transitionEndString="webkitTransitionEnd":"o"===i[r]&&(this.transitionEndString="oTransitionEnd"),void(this.CSS3_SUPPORTED=!0)},i.prototype.preprocessProperties=function(t,e){e=this.checkForPrefixes(e);var i=(Date.now(),""),n={},r=this.getCSSStartValues(t,e),s=!1;for(i in e){var o,a="";if(i.search(/transform/i)>=0&&i.toLowerCase().search(/origin/i)<0){var h=this.parseTransformValues(t,r[i],e[i]);n[i]={name:i,start:h.startValue,end:h.targetValue,targetString:h.targetString,startString:h.startString,multiValue:!1}}else{var p=!1,l=r[i].toString().trim(),c=e[i].toString().trim();if(l.search(this.colorUnitRegex)<0&&(l.search(" ")>0||l.search(",")>0||c.search(" ")>0||c.search(",")>0)){p=!0,l=l.replace(/, /g,",");var u=l.split(/,|\s/);c=c.replace(/, /g,",");var d=c.split(/,|\s/),g=0;if(u.length<d.length)for(var m=u.length,f=d.length;f>m;m++)g>u.length-1&&(g=0),u.push(u[g]),g++;if(d.length<u.length)for(var m=d.length,f=u.length;f>m;m++)g>d.length-1&&(g=0),d.push(d[g]),g++;var y,v,E=0,S=d.length,N=[],T=[],O=[];for(s=[];S>E;E++){y=u[0].search(/inherit|initial|unset/i)>=0?0:u[E],v=d[E],o=this.prepareProperty(t,i,y,v),N.push(o.startValue),T.push(o.targetValue),O.push(o.targetUnit);var A=o.targetUnit.match(this.colorUnitRegex);s.push(A&&A.length>0)}r[i]=N,e[i]=T,a=O}else o=this.prepareProperty(t,i,r[i],e[i]),r[i]=o.startValue,e[i]=o.targetValue,a=o.targetUnit,s=a.match(this.colorUnitRegex);n[i]={name:i,start:r[i],end:e[i],unit:a,color:s,multiValue:p,attribute:i.search(/scrollTop|scrollLeft/i)>=0}}}return n},i.prototype.prepareProperty=function(t,e,i,n){"left"===i||"top"===i?i=0:"right"!==i&&"bottom"!==i||(i="100%"),"left"===n||"top"===n?n=0:"right"!==n&&"bottom"!==n||(n="100%");var r=i.toString().match(this.unitRegex);r&&(r=r[0]),null==r&&(r="");var s=n.toString().match(this.unitRegex);s&&(s=s[0]),null==s&&(s=""),"px"!=r||s||(s="px");var o=new RegExp(r+"| |\\(|\\)|%","gi");"transparent"!==r&&(i=i.toString().replace(o,"")),o=new RegExp(s+"| |\\(|\\)|%","gi"),"transparent"!==s&&(n=n.toString().replace(o,"")),"#"===r&&(i=this.expandHex(i)),"#"===s&&(n=this.expandHex(n));var a=e.search(/transform/i)<0;return r.match(this.colorUnitRegex)||s.match(this.colorUnitRegex)||(r!==s?(i=this.convertUnit(t,i,r,s,e,a),r=s):""===r&&""===s&&this.UNITLESS_VALUES.indexOf(e)<0&&(r=s="px")),r.match(this.colorUnitRegex)?s.search(/hsla|hsl/g)>-1?(i=this.convertColorToHSLA(i,r),r="hsla"):(i=this.convertColorToRGBA(i,r),r="rgba"):i=parseFloat(i),s.match(this.colorUnitRegex)?s.search(/hsla|hsl/g)>-1?(n=this.convertColorToHSLA(n,s),s="hsla"):(n=this.convertColorToRGBA(n,s),s="rgba"):n=parseFloat(n),{startValue:i,targetValue:n,startUnit:r,targetUnit:s}},i.prototype.expandHex=function(t){return 3===t.toString().length&&(t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n})),t},i.prototype.transformContains=function(t,e){for(var i=0,n=e.length;n>i;i++)if(e[i].attributeName===t)return i;return 0},i.prototype.parseTransformValues=function(t,e,i){var n=i;"none"===e&&(e="");var r=e;e=this.convertTransformString(e),i=this.convertTransformString(i);var s=0,o=i.length>e.length?i.length:e.length;if(1===e.length){var a=this.transformContains(e[0].attributeName,i);if(a)for(var h=e[0].attributeName;o>s;s++)i[s].attributeName!==h&&e.splice(s,0,this.prepareAutoTransformValue(i[s],!0))}if(s=0,e.length!==i.length)for(;o>s;s++)e[s]||(e[s]=this.prepareAutoTransformValue(i[s],!0));s=0,o=i.length>e.length?i.length:e.length;for(var p=i;o>s;s++)p[s]&&e[s].attributeName===p[s].attributeName||i.splice(s,0,this.prepareAutoTransformValue(e[s],!0));if(i.length>e.length)for(s=e.length,o=i.length;o>s;s++)e[s]=this.prepareAutoTransformValue(i[s],!0);s=0,o=i.length;for(var l={};o>s;s++)if(e[s].multiValue)for(var c=0,u=i.length;u>c;c++){var d=i[s].attributeName;"translate"!==d&&"translate3d"!==d||1===c&&(d="translateY"),e[s].unit[c]?(l=this.convertUnit(t,i[s].value[c],i[s].unit[c],e[s].unit[c],e[s].attributeName,!1),i[s].unit[c]=e[s].unit[c],i[s].value[c]=l):(l=this.convertUnit(t,e[s].value[c],e[s].unit[c],i[s].unit[c],i[s].attributeName,!1),e[s].unit[c]=i[s].unit[c],e[s].value[c]=l)}else e[s].unit!==i[s].unit&&(e[s].unit?(l=this.convertUnit(t,i[s].value,i[s].unit,e[s].unit,e[s].attributeName,!1),i[s].unit=e[s].unit,i[s].value=l):(l=this.convertUnit(t,e[s].value,e[s].unit,i[s].unit,i[s].attributeName,!1),e[s].unit=i[s].unit,e[s].value=l));return{startValue:e,targetValue:i,targetString:n,startString:r}},i.prototype.convertUnit=function(i,n,r,s,o,a){if(0==n||!n)return 0;var h=0;return o.search(/color/i)<0&&(h=o.search(/top|height|minHeight|maxHeight|translateY/g)>=0?a?i.parentNode.clientHeight:i.clientHeight:a?i.parentNode.clientWidth:i.clientWidth),"%"===s?"px"===r?n=n/h*100:"vh"===r?n=t.innerHeight*n/h*100:"vw"===r&&(n=t.innerWidth*n/h*100):"px"===s?"%"===r?n=n/100*h:"vh"===r?n=t.innerHeight*n:"vw"===r&&(n=t.innerWidth*n):"vw"===s?"px"===r?n/=t.innerWidth:"%"===r&&(n=n/100*h/t.innerWidth):"vh"===s&&("px"===r?n/=t.innerHeight:"%"===r&&(n=n/100*h/t.innerHeight)),"em"===s?"px"===r?n/=parseInt(getComputedStyle(i.parentNode,null).fontSize,10):"rem"===r&&(n=parseInt(getComputedStyle(i,null)[o],10)/parseInt(getComputedStyle(i.parentNode,null).fontSize,10)):"rem"===s&&("px"===r?n/=parseInt(getComputedStyle(e.body,null).fontSize,10):"em"===r&&(n=parseInt(getComputedStyle(i,null)[o],10)/parseInt(getComputedStyle(e.body,null).fontSize,10))),"rad"===s?"deg"===r?n*=Math.PI/180:"grad"===r?n=n/400*(2*Math.PI):"turn"===r&&(n*=2*Math.PI):"deg"===s?"rad"===r?n*=180/Math.PI:"grad"===r?n=n/400*360:"turn"===r&&(n=360*n):"grad"===s?"rad"===r?n=n/(2*Math.PI)*400:"deg"===r?n=n/360*400:"turn"===r&&(n=400*n):"turn"===s&&("rad"===r?n/=2*Math.PI:"grad"===r?n/=400:"deg"===r&&(n/=360)),n},i.prototype.hexToRGBA=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1"},i.prototype.rgbToRGBA=function(t){return t+=",1"},i.prototype.hslToRGBA=function(t){t=t.split(",");var e=t[0],i=t[1],n=t[2];e=0===e?0:e/360,i=parseInt(i,10)/100,n=parseInt(n,10)/100;var r=0,s=0,o=0;if(0===i)r=s=o=1;else{var a=n+i-n*i,h=2*n-a;r=this.hueToRGB(h,a,e+1/3),s=this.hueToRGB(h,a,e),o=this.hueToRGB(h,a,e-1/3)}return Math.round(255*r)+","+Math.round(255*s)+","+Math.round(255*o)+",1"},i.prototype.HSLToHSLA=function(t){return t+=",1"},i.prototype.RGBAToHSLA=function(t){var e=this.RGBToHSLA(t).split(",");return e[3]=t.split(",")[3],e.join(",")},i.prototype.RGBToHSLA=function(t){t=t.split(",");var e,i,n=t[0]/255,r=t[1]/255,s=t[2]/255,o=Math.max(n,r,s),a=Math.min(n,r,s),h=(o+a)/2;if(o===a)e=i=0;else{var p=o-a;i=h>.5?p/(2-o-a):p/(o+a),o===n?e=(r-s)/p+(s>r?6:0):o===r?e=(s-n)/p+2:o===s&&(e=(n-r)/p+4),e/=6}return e*=360,i*=100,h*=100,e+","+i+"%,"+h+"%,1"},i.prototype.hexToHSLA=function(t){return t=this.hexToRGBA(t),t=this.RGBAToHSLA(t)},i.prototype.hueToRGB=function(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+(e-t)*(2/3-i)*6:t},i.prototype.hslaToRGBA=function(t){var e=t.split(",");return e=e[0]+","+e[1]+","+e[2],e=this.hslToRGBA(e).split(","),e[3]=t.split(",")[3],e[0]+","+e[1]+","+e[2]+","+e[3]},i.prototype.prepareAutoTransformValue=function(t,e){var i={attributeName:t.attributeName,multiValue:t.multiValue,unit:t.unit,value:t.value};if(e){var n=0,r=0,s=i.attributeName.search("scale")>=0?1:0;if(i.multiValue)for(n=0,r=i.value.length,i.value=[];r>n;n++)i.value.push(s);else i.value=s}return i},i.prototype.convertTransformString=function(t){t=t.trim().replace(/, | ,/g,",").split(" ");var e,i,n,r,s=0,o=t.length,a=[],h=!1;if(""===t.toString().replace(/\s/g,"")||"none"===t)return a;for(;o>s;s++){if(t[s]=t[s].replace(/\s/g,""),r=t[s].indexOf("("),e=t[s].substr(0,r),n=t[s].substr(r+1,t[s].indexOf(")")-(r+1)),h=n.indexOf(",")>-1){n=n.split(",");var p=0,l=n.length;for(i=[];l>p;p++)i.push(n[p].replace(/\d+|-|\./g,"").toLowerCase()),n[p]=parseFloat(n[p].replace(i[p],""))}else i=n.replace(/\d+|-|\./g,"").toLowerCase(),n=parseFloat(n.replace(i,""));a.push({attributeName:e,value:n,multiValue:h,unit:i})}return a},i.prototype.getCSSStartValues=function(t,e){var i,n,r={},s=getComputedStyle(t,null);"height"in e?"auto"===s.height&&(t.style.height=t.clientHeight+"px"):"width"in e&&"auto"===s.width&&(t.style.width=t.clientWidth+"px");for(var o in e){n=!1,"height"!==o&&"width"!==o||(t.style.height=s[o]),o.search(/scrollLeft|scrollTop/i)>=0?(n=!0,i=t[o]):(i=s[o],"background"===o&&e[o].search(" ")&&e[o].search(this.colorUnitRegex)>=0&&(i=s.backgroundColor));var a=i.toString().match(this.unitRegex);a&&(a=a[0]),null==a&&(a="");var h=e[o].toString().match(this.unitRegex);if(h&&(h=h[0]),null==h&&(h=""),"px"!=a||h||(h="px"),t.style&&t.style[o])r[o]=t.style[o];else if((o.search(/transform/i)<0||o.search(/origin/i)>=0)&&a==h)n?r[o]=i:a?r[o]=s[o]:r[o]=parseFloat(s[o]);else if(o.search(/transform/i)>=0&&o.search(/origin/i)<0){var p=this.isMatrixIdentity(s[o])||"none"===s[o]||""===s[o];p?r[o]="":(t.style[o]="none",r[o]="")}else r[o]=i}return r},i.prototype.isMatrixIdentity=function(t){return t.search("matrix3d")?"matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"===t:"matrix(1,0,0,1,0,0)"===t||"matrix(1,0,0,0,1,0,0,0,1)"===t},i.prototype.checkForPrefixes=function(t){var e,i,n={};for(e in t)i=t[e],e=NATION.Utils.getPrefixedName(e),n[e]=i;return n},i.prototype.calculateTransformProgress=function(t,e){for(var i,n,r,s=0,o=t.end.length,a="",h=0,p=0;o>s;s++)if(0!==s&&(a+=" "),t.end[s].multiValue){for(h=0,p=t.end[s].value.length,r=t.end[s].attributeName,a+=r+"(";p>h;h++)n=t.start[s].value[h]+(t.end[s].value[h]-t.start[s].value[h])*e,i=t.end[s].unit[h],0!==h&&(a+=", "),a+=n+i;a+=")"}else n=t.start[s].value+(t.end[s].value-t.start[s].value)*e,i=t.end[s].unit,r=t.end[s].attributeName,a+=r+"("+n+i+")";return a},i.prototype.calculateColorProgress=function(t,e,i,n){e=e.toString().split(","),i=i.split(",");for(var r=0,s=e.length;s>r;r++)e[r]=parseFloat(e[r]),i[r]=parseFloat(i[r]);var o=e[3]+t*(i[3]-e[3]);return"rgba"===n?"rgba("+Math.round(e[0]+t*(i[0]-e[0]))+","+Math.round(e[1]+t*(i[1]-e[1]))+","+Math.round(e[2]+t*(i[2]-e[2]))+","+o+")":"hsla("+Math.round(e[0]+t*(i[0]-e[0]))+","+Math.round(e[1]+t*(i[1]-e[1]))+"%,"+Math.round(e[2]+t*(i[2]-e[2]))+"%,"+o+")"},i.prototype.convertColorToRGBA=function(t,e){return"transparent"===t.toLowerCase()?t="0,0,0,0":"#"===e?t=this.hexToRGBA(t):"rgb"===e?t=this.rgbToRGBA(t):"hsl"==e?t=this.hslToRGBA(t):"hsla"===e&&(t=this.hslaToRGBA(t)),t},i.prototype.convertColorToHSLA=function(t,e){return"transparent"===t.toLowerCase()?t="0,0,0,0":"#"===e?t=this.hexToHSLA(t):"rgb"===e?t=this.RGBToHSLA(t):"rgba"===e?t=this.RGBAToHSLA(t):"hsl"===e&&(t=this.HSLToHSLA(t)),t},i.prototype.updateActiveAnimations=function(){for(var t=0,e=[];t<this.activeAnimations.length;t++)this.activeAnimations[t]&&(this.activeAnimations[t].update(),this.activeAnimations[t]&&(this.activeAnimations[t].complete||e.push(this.activeAnimations[t])));this.activeAnimations=e,this.animRequest=requestAnimationFrame(this.updateActiveAnimations.bind(this))};var n=function(){this.EASING_METHODS={linear:{x1:0,y1:0,x2:1,y2:1},easeInSine:{x1:.47,y1:0,x2:.745,y2:.715},easeOutSine:{x1:.39,y1:.575,x2:.565,y2:1},easeInOutSine:{x1:.445,y1:.05,x2:.55,y2:.95},easeInQuad:{x1:.55,y1:.085,x2:.68,y2:.53},easeOutQuad:{x1:.25,y1:.46,x2:.45,y2:.94},easeInOutQuad:{x1:.455,y1:.03,x2:.515,y2:.955},easeInCubic:{x1:.55,y1:.055,x2:.675,y2:.19},easeOutCubic:{x1:.215,y1:.61,x2:.355,y2:1},easeInOutCubic:{x1:.645,y1:.045,x2:.355,y2:1},easeInQuart:{x1:.895,y1:.03,x2:.685,y2:.22},easeOutQuart:{x1:.165,y1:.84,x2:.44,y2:1},easeInOutQuart:{x1:.77,y1:0,x2:.175,y2:1},easeInQuint:{x1:.755,y1:.05,x2:.855,y2:.06},easeOutQuint:{x1:.23,y1:1,x2:.32,y2:1},easeInOutQuint:{x1:.86,y1:0,x2:.07,y2:1},easeInExpo:{x1:.95,y1:.05,x2:.795,y2:.035},easeOutExpo:{x1:.19,y1:1,x2:.22,y2:1},easeInOutExpo:{x1:1,y1:0,x2:0,y2:1},easeInCirc:{x1:.6,y1:.04,x2:.98,y2:.335},easeOutCirc:{x1:.075,y1:.82,x2:.165,y2:1},easeInOutCirc:{x1:.785,y1:.135,x2:.15,y2:.86}},this.getEasingObject=function(t){var e={};return t.search("bezier")>-1?(t=t.replace("cubic-bezier(",""),t=t.replace(")",""),t=t.replace(/ /g,""),t=t.split(","),e.x1=parseFloat(t[0]),e.y1=parseFloat(t[1]),e.x2=parseFloat(t[2]),e.y2=parseFloat(t[3])):e=this.EASING_METHODS[t],e},this.getFlippedEasingObject=function(t){var e=this.halfUnitTurn({x:t.x1,y:t.y1},1,1),i=this.halfUnitTurn({x:t.x2,y:t.y2},1,1);return{x1:e.x,y1:e.y,x2:i.x,y2:i.y}},this.halfUnitTurn=function(t,e,i){var n=e/2,r=i/2;return{x:n-(t.x-n),y:r-(t.y-r)}},this.easeOnBezierCurve=function(t,e){return t.x1===t.y1&&t.x2===t.y2?e:this.calculateBezier(this.getPositionOnCurve(t,e),t.y1,t.y2)},this.getPositionOnCurve=function(t,e){for(var i=e,n=0,r=0,s=0;4>n;n++){if(r=this.getBezierSlope(i,t.x1,t.x2),0==r)return i;s=this.calculateBezier(i,t.x1,t.x2)-e,i-=s/r}return i},this.calculateBezier=function(t,e,i){return((this.calculateBezierPropA(e,i)*t+this.calculateBezierPropB(e,i))*t+this.calculateBezierPropC(e))*t},this.getBezierSlope=function(t,e,i){return 3*this.calculateBezierPropA(e,i)*t*t+2*this.calculateBezierPropB(e,i)*t+this.calculateBezierPropC(e)},this.calculateBezierPropA=function(t,e){return 1-3*e+3*t},this.calculateBezierPropB=function(t,e){return 3*e-6*t},this.calculateBezierPropC=function(t){return 3*t}};n=new n;var r=function(t,e,i,r){this.DOMElement=t,this.properties=e,this.options=i,this.callback=r,this.easingMethod=n.getEasingObject(i.easing),this.startTime=Date.now()+parseInt(this.options.delay,10),this.endTime=this.startTime+i.duration,this.currentTime=this.startTime,this.progress=0,this.reversing=!1,this.complete=!1,this.paused=!1,this.remainingDelay=0;var s=this;if(!this.options.jsMode){var s=this;this.transitionCallback=function(t){s.onCycleComplete(t)}}this.options.bounce&&this.options.flipBounceEasing&&(this.normalEasingMethod=this.easingMethod,this.flippedEasingMethod=n.getFlippedEasingObject(this.easingMethod)),this.options.delay?this.startDelayTimer():this.options.jsMode||this.startCSSAnimation(this.properties)};r.prototype.startDelayTimer=function(){this.delayActive=!0;var t=this;this.delayTimer=setTimeout(function(){t.delayActive=!1,t.remainingDelay=0,t.options.jsMode||t.startCSSAnimation(t.properties)},this.remainingDelay>0?this.remainingDelay:this.options.delay)},r.prototype.startCSSAnimation=function(t,e){e=e||0;var i="cubic-bezier("+this.easingMethod.x1+","+this.easingMethod.y1+","+this.easingMethod.x2+","+this.easingMethod.y2+")";this.progress=-e/this.options.duration;var n=this.createCSSState(1);this.DOMElement.style[NATION.Animation.transitionString]="all "+parseInt(this.options.duration,10)+"ms "+i+" "+parseInt(e,10)+"ms",NATION.Utils.setStyle(this.DOMElement,n)},r.prototype.createCSSState=function(t){var e={},i=0;for(var n in this.properties)if(!this.properties[n].attribute)if(n.search(/transform/i)>=0&&n.search(/origin/i)<0)t>=1?e[n]=this.properties[n].targetString:(i=NATION.Animation.calculateTransformProgress(this.properties[n],t),e[n]=i);else if(this.properties[n].multiValue){var r=0,s=this.properties[n].end.length;for(i="";s>r;r++){if(r>0&&(i+=" "),this.properties[n].color[r])i+=NATION.Animation.calculateColorProgress(t,this.properties[n].start[r],this.properties[n].end[r],this.properties[n].unit[r]);else{var o=this.properties[n].start[r]+t*(this.properties[n].end[r]-this.properties[n].start[r]);n.search(/transform/i)>=0&&n.search(/origin/i)>=0&&(o=Math.floor(o)),i+=o+this.properties[n].unit[r]}e[n]=i}}else this.properties[n].color?(i=NATION.Animation.calculateColorProgress(t,this.properties[n].start,this.properties[n].end,this.properties[n].unit),e[n]=i):(i=this.properties[n].start+t*(this.properties[n].end-this.properties[n].start)+this.properties[n].unit,e[n]=i);return e},r.prototype.updateElementAttributes=function(t){var e;for(var i in this.properties)this.properties[i].attribute&&(e=this.properties[i].start+t*(this.properties[i].end-this.properties[i].start),this.DOMElement[i]=e)},r.prototype.update=function(){if(!this.delayActive&&!this.paused){this.currentTime=Date.now(),this.progress=(this.currentTime-this.startTime)/(this.endTime-this.startTime);var t=0;if(t=n.easeOnBezierCurve(this.easingMethod,this.progress>1?1:this.progress),this.options.jsMode){var e=this.createCSSState(t);NATION.Utils.setStyle(this.DOMElement,e),this.updateElementAttributes(t)}this.options.progress&&this.options.progress({target:this.DOMElement,currentTarget:this.DOMElement,cancelable:!1,defaultPrevented:!1,eventPhase:2,timestamp:this.currentTime,isTrusted:!1},this.progress>1?1:this.progress,t),this.progress>=1?this.onCycleComplete():this.complete=!1,this.complete&&(this.options.loop||this.options.bounce)&&(this.complete=!1,this.progress=0),this.complete&&(this.stop(),this.onAnimationComplete())}},r.prototype.stop=function(){if(this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null),!this.options.jsMode&&this.progress<1){var t=n.easeOnBezierCurve(this.easingMethod,this.progress>1?1:this.progress),e=this.createCSSState(t);NATION.Utils.setStyle(this.DOMElement,e)}this.options.jsMode||this.DOMElement.style.removeProperty(NATION.Animation.transitionString),this.complete=!0},r.prototype.pause=function(){if(this.paused=!0,this.delayTimer){clearTimeout(this.delayTimer),this.delayTimer=null;var t=Date.now(),e=t-this.startTime;this.remainingDelay=this.options.delay-e}if(!this.options.jsMode&&this.progress>0){this.DOMElement.style.removeProperty(NATION.Animation.transitionString);var i=n.easeOnBezierCurve(this.easingMethod,this.progress>1?1:this.progress);NATION.Utils.setStyle(this.DOMElement,this.createCSSState(i))}},r.prototype.resume=function(){if(this.paused=!1,this.delayActive)this.startDelayTimer();else if(this.currentTime=Date.now(),this.startTime=this.currentTime-this.options.duration*this.progress,this.endTime=this.startTime+this.options.duration,!this.options.jsMode){var t=this.createCSSState(0);NATION.Utils.setStyle(this.DOMElement,t);n.easeOnBezierCurve(this.easingMethod,this.progress>1?1:this.progress);this.startCSSAnimation(this.properties,-(this.progress*this.options.duration))}},r.prototype.onCycleComplete=function(t){if(this.currentTime=Date.now(),this.options.loop||this.options.bounce){this.options.jsMode&&(this.complete=!0);var e=this.progress<1?0:this.progress%1;this.startTime=this.currentTime-e*this.options.duration,this.endTime=this.startTime+this.options.duration;var i=-(e*this.options.duration);if(this.options.bounce){var n="";if(this.progress%2>=1||this.progress<1&&!this.options.jsMode){for(var r in this.properties)n=this.properties[r].start,this.properties[r].start=this.properties[r].end,this.properties[r].end=n,n=this.properties[r].targetString,r.search(/transform/i)>=0&&r.search(/origin/i)<0&&(this.properties[r].targetString=this.properties[r].startString,this.properties[r].startString=n);this.options.flipBounceEasing&&(this.reversing=!this.reversing,this.easingMethod=this.reversing?this.flippedEasingMethod:this.normalEasingMethod)}this.options.jsMode||(this.complete=!1,this.DOMElement.style[NATION.Animation.transitionString]="",NATION.Utils.setStyle(this.DOMElement,this.createCSSState(e)),this.DOMElement.offsetHeight,this.startCSSAnimation(this.properties,i))}else this.options.jsMode||(this.DOMElement.style[NATION.Animation.transitionString]="",NATION.Utils.setStyle(this.DOMElement,this.createCSSState(0)),this.DOMElement.offsetHeight,this.options.jsMode||(this.complete=!1,this.startCSSAnimation(this.properties,i)));this.progress=0,this.options.loopComplete&&this.options.loopComplete({target:this.DOMElement,currentTarget:this.DOMElement,cancelable:!1,defaultPrevented:!1,eventPhase:2,timestamp:this.currentTime,isTrusted:!1})}else this.complete=!0;t&&t.preventDefault&&t.preventDefault()},r.prototype.onAnimationComplete=function(t){this.options.complete&&this.options.complete({target:this.DOMElement,currentTarget:this.DOMElement,cancelable:!1,defaultPrevented:!1,eventPhase:2,timestamp:this.currentTime,isTrusted:!1})},t.NATION.Animation=new i}"undefined"==typeof t.NATION&&(t.NATION={}),n()}(window,document,void 0),function(t,e,i){"use strict";function n(){var n=function(){this.wheelEventName="",this.eventHandlers={}};n.prototype.addListener=function(t,e){if(!t)throw new Error(this.ERROR_MISSING_EVENT_NAME);t=t.split(" ");for(var i=0,n=t.length;n>i;i++){if(!e)throw new Error(this.ERROR_MISSING_CALLBACK.replace("{{eventName}}",t[i]));t[i]=this.normalizeMouseWheelEvent(t[i]),"undefined"==typeof this.eventHandlers[t[i]]&&(this.eventHandlers[t[i]]=[]),this.eventHandlers[t[i]].push(e)}},n.prototype.removeListener=function(t,e){if(!t)throw new Error(this.ERROR_MISSING_EVENT_NAME);t=t.split(" ");for(var i=0,n=t.length;n>i;i++)if(t[i]=this.normalizeMouseWheelEvent(t[i]),this.eventHandlers[t[i]]instanceof Array){if(!e)return void(this.eventHandlers[t[i]]=[]);for(var i=0,n=this.eventHandlers[t[i]].length;n>i;i++)String(this.eventHandlers[t[i]])===String(e)&&this.eventHandlers[t[i]].splice(i,1)}},n.prototype.trigger=function(t){if(!t)throw new Error(this.ERROR_MISSING_EVENT_NAME);t=arguments.length>1?Array.prototype.slice.call(arguments,0):t.split(" ");for(var e,i,n=0,r=t.length,s=[],o=0;r>n;n++)if(t[n]=this.normalizeMouseWheelEvent(t[n]),s=this.eventHandlers[t[n]],"undefined"!=typeof s)for(e=s.length,o=0;e>o;o++)s[o]&&(i={target:this,currentTarget:this,type:t[n],bubbles:!1,cancelable:!1,defaultPrevented:!1,timestamp:Date.now(),isTrusted:!1},s[o].apply(this,[i]))},n.prototype.ERROR_MISSING_EVENT_NAME="NATION.EventDispatcher: The argument 'eventName' is required",n.prototype.ERROR_MISSING_CALLBACK="NATION.EventDispatcher: The 'callback' argument is required to listen for event '{{eventName}}'",n.prototype.normalizeMouseWheelEvent=function(t){return t.search(/mousewheel|wheel|DOMMouseScroll/g)>=0?(this.wheelEventName||("onwheel"in e.createElement("div")?this.wheelEventName="wheel":e.onmousewheel!==i?this.wheelEventName="mousewheel":this.wheelEventName="DOMMouseScroll"),this.wheelEventName):t.replace(/ /g,"")},t.NATION.EventDispatcher=n}"undefined"==typeof t.NATION&&(t.NATION={}),n();var r="NATION.EventDispatcher";t.waitingDependencies=t.waitingDependencies||{};for(var s in t.waitingDependencies)for(var o in t.waitingDependencies[s].dependencies)o===r&&t.waitingDependencies[s].callback()}(window,document,void 0),function(t,e,i){"use strict";function n(){var n=function(){this.requestID=0,this.testElement=e.createElement("div"),this.pageElement=null};n.prototype.ajax=function(t){if(!t||t!==Object(t))throw new Error(this.ERROR_INVALID_OPTIONS);if(!t.url)throw new Error(this.ERROR_UNDEFINED_URL);t.method=t.method||"GET",t.dataType=t.dataType||"text","jsonp"===t.dataType||"script"===t.dataType?this.loadScript(t):this.createRequest(t)},n.prototype.createNamespace=function(e){for(var i=e.split("."),n="",r=0,s=i.length,o=t;s>r;r++)n=i[r],o[n]=o[n]||{},o=o[n]},n.prototype.getOffset=function(i){var n=i.getBoundingClientRect();return{top:n.top+t.pageYOffset-(e.documentElement.clientTop||0),left:n.left+t.pageXOffset-(e.documentElement.clientLeft||0)}},n.prototype.getPosition=function(t){return{top:t.offsetTop,left:t.offsetLeft}},n.prototype.getStyle=function(e,i,n){var r=0;if("float"===i&&(i="cssFloat"),i=this.getPrefixedName(i),n){var s=t.getComputedStyle(e,null).display,o=0!=e.style.display;e.style.display="none",r=t.getComputedStyle(e,null)[i],o?e.style.display=s:e.style.removeProperty("display")}else r=t.getComputedStyle(e,null)[i],r.search(/px|%|em|rem|vh|vw|vmin|vmax|ex|ch/g)>-1&&(r=parseInt(r,10));return r||""},n.prototype.setStyle=function(t,e){var i="";for(var n in e)if(i=this.getPrefixedName(n),parseInt(e[n],10)==e[n]&&n.search(/opacity|margin|z-index|zIndex|font-weight|fontWeight|line-height|lineHeight|counter-reset|counterReset|counter-increment|counterIncrement|volume|stress|pitch-range|pitchRange|richness/g)<0&&(e[n]+="px"),t.length)for(var r=0,s=t.length;s>r;r++)t[r].style[i]=e[n];else t.style[i]=e[n]},n.prototype.getCookie=function(t){for(var i=e.cookie.split("; "),n={},r=i.length-1,s="";r>=0;r--)s=i[r].split("="),n[s[0]]=s[1];return n[t]},n.prototype.setCookie=function(t,i,n){var r="";if(n){var s=new Date;s.setTime(s.getTime()+24*n*60*60*1e3),r="; expires="+s.toGMTString()}e.cookie=t+"="+i+r+";path=/"},n.prototype.getPageElement=function(){if(!this.pageElement){var i=t.pageYOffset||e.body.scrollTop,n=i+1;t.scrollTo(0,n),this.pageElement=e.documentElement.scrollTop===n?e.documentElement:e.body,t.scrollTo(0,i)}return this.pageElement},n.prototype.isEventSupported=function(t,n){var r=!1,s=!("onblur"in e.documentElement);return t?("hover"===t&&(t="mouseover"),n?"string"==typeof n&&(n=e.createElement(n)):n=this.testElement,t="on"+t.toLowerCase(),r=t in n,!r&&s&&(n.setAttribute||(n=e.createElement("div")),n.setAttribute(t,""),r="function"==typeof n[t],n[t]!==i&&(n[t]=i),n.removeAttribute(t)),r):!1},n.prototype.serializeForm=function(t){var e,i=[];if("object"==typeof t&&"FORM"===t.nodeName)for(var n=t.elements.length,r=0,s=0;n>r;r++)if(e=t.elements[r],e.name&&!e.disabled&&e.type.toString().indexOf(/file|reset|submit|button/i)<0)if("select-multiple"===e.type)for(s=e.length-1;s>=0;s--)fieldElement.options[s].selected&&(i[i.length]=encodeURIComponent(e.name)+"="+encodeURIComponentfield.options[s].value);else(e.type.toString().indexOf(/checkbox|radio/i)<0||e.checked)&&(i[i.length]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));return i.join("&").replace(/%20/g,"+")},n.prototype.getDOMElement=function(t){return"string"==typeof t?e.querySelector(t):"undefined"!=typeof jQuery&&t instanceof jQuery?jQuery(t)[0]:t},n.prototype.getPrefixedName=function(t){for(var e=["webkit","Moz","ms","moz"],n=0,r=e.length,s=t;r>n;n++)if(s.search("-"+e[n]+"-")>-1){s=s.replace("-"+e[n]+"-","");break}if(this.testElement.style[s]!==i||"scrollLeft"===s||"scrollTop"===s)return s;for(s=s.charAt(0).toUpperCase()+s.slice(1),s=this.camelcaseString(s,!0,!0),n=0;r>n;n++)if(this.testElement.style[e[n]+s]!==i)return e[n]+s;if("transition"!=t)throw new Error(this.ERROR_UNSUPPORTED_STYLE.replace("{{property}}",t))},n.prototype.camelcaseString=function(t,e,i){return e?(t=t.replace(/\-[a-zA-Z]|\s[a-zA-Z]|\s+/g,function(t,e){return t.replace(/-|\s/g,"").toUpperCase()}),i||(t=t.charAt(0).toLowerCase()+t.substring(1)),t):t.replace(/(?:^\w|[A-Z]|\b\w|)/g,function(t,e){return 0===+t?"":t.toUpperCase()})},n.prototype.ERROR_INVALID_OPTIONS="NATION.Utils: ajax argument 'options' is not a valid object",n.prototype.ERROR_UNDEFINED_URL="NATION.Utils: ajax argument 'options.url' is undefined",n.prototype.ERROR_INVALID_DATA="Nation.Utils: ajax argument 'options.data' must be either a querystring or an object consisting of key/value pairs",n.prototype.ERROR_REQUEST_FAILED="NATION.Utils: ajax load failed wth error code '{{status}}' and response '{{response}}'",n.prototype.ERROR_UNSUPPORTED_STYLE="NATION.Utils: This browser does not support the CSS property '{{property}}'",n.prototype.prepareRequestData=function(t){if("string"!=typeof t){if(t!==Object(t))throw new Error(this.ERROR_INVALID_DATA);t=this.objectToQueryString(t)}return t},n.prototype.loadScript=function(t){var i=e.createElement("script");t.id&&i.setAttribute("id",t.id),"jsonp"===t.dataType&&(t.id=this.requestID=this.requestID+1),t.url.indexOf("?")<0&&(t.url+="?"),t.url.indexOf("?")!==t.url.length-1&&(t.url+="&"),t.data&&(t.data=this.prepareRequestData(t.data),t.url+=t.data,"jsonp"===t.dataType&&(t.url+="&")),t.success&&"jsonp"!==t.dataType&&i.addEventListener("load",t.success),"jsonp"===t.dataType&&(t.url+="callback=NATION.jsonpCallback"+t.id),"jsonp"===t.dataType&&(NATION["jsonpCallback"+t.id]=function(n){"{"===n[0]&&(n=JSON.parse(n)),t.success&&t.success(n),e.getElementsByTagName("body")[0].removeChild(i),delete NATION["jsonpCallback"+t.id]}),i.setAttribute("src",t.url),e.getElementsByTagName("body")[0].appendChild(i)},n.prototype.handleRequestError=function(t,e){return!t.status||200!==t.status&&304!==t.status?(e.error?e.error(t.status,t.statusText):console&&console.warn&&console.warn(this.ERROR_REQUEST_FAILED.replace("{{status}}",t.status).replace("{{response}}",t.response)),
!0):!1},n.prototype.createRequest=function(t){var e=new XMLHttpRequest;e.open(t.method,t.url,!0),t.data&&(t.data=this.prepareRequestData(t.data),t.contentType||(t.contentType="application/x-www-form-urlencoded; charset=UTF-8"),e.setRequestHeader("Content-type",t.contentType));var i=t.dataType.indexOf(/text|arraybuffer|blob|document/i)>-1,n=this;e.upload?(i&&(e.responseType=t.dataType),e.addEventListener("load",function(r){if(!n.handleRequestError(e,t)){var s=e.responseText;i?s=e.response:"json"===t.dataType&&"{"===s[0]&&(s=JSON.parse(s)),t.success&&t.success(s)}}),e.addEventListener("error",function(i){n.handleRequestError(e,t)}),t.progress&&e.addEventListener("progress",function(e){e.lengthComputable&&t.progress(e.loaded/e.total)})):(i&&e.overrideMimeType("text/plain; charset=x-user-defined"),e.onreadystatechange=function(){if(4===e.readyState&&!n.handleRequestError(e,t)){var i=e.responseText;"json"===t.dataType&&"{"===i[0]&&(i=JSON.parse(i)),t.success&&t.success(i)}}),e.send(t.data)},n.prototype.objectToQueryString=function(t){return Object.keys(t).map(function(e){return"Array"==typeof t[e]&&(t[e]=t[e].join("&")),encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")},t.NATION.Utils=new n}"undefined"==typeof t.NATION&&(t.NATION={}),n();var r="NATION.Utils";t.waitingDependencies=t.waitingDependencies||{};for(var s in t.waitingDependencies)for(var o in t.waitingDependencies[s].dependencies)o===r&&t.waitingDependencies[s].callback();if(!t.requestAnimationFrame){var a=0;t.requestAnimationFrame=function(e,i){var n=Date.now(),r=Math.max(0,16-Math.abs(n-a)),s=t.setTimeout(function(){e(n+r)},r);return a=n+r,s}}t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}(window,document,void 0),function(t,e,i){"use strict";NATION.Utils.createNamespace("SNOWBEAT.models");var n={SECTION_EXPAND_REQUESTED:"SectionExpandRequested",SECTION_SHRINK_REQUESTED:"SectionShrinkRequested",URL_CHANGED:"URLChanged"};SNOWBEAT.models.Events=n}(window,document,void 0),function(t,e,i){"use strict";NATION.Utils.createNamespace("SNOWBEAT.models");var n=function(t){NATION.EventDispatcher.call(this),this.currentState={pathArray:[],path:"",sectionName:""},this.getStartState(),this.createListeners()};n.prototype=Object.create(NATION.EventDispatcher.prototype),n.prototype.constructor=n,n.prototype.getStartState=function(){var e=t.history.location||t.location,i=e.pathname;return this.storeCurrentState(i),this.currentState},n.prototype.storeCurrentState=function(t){"/"===t.charAt(0)&&(t=t.replace("/",""));var e=t?t.split("/"):[],i="";i=e[0]?e[0]:"",this.currentState={pathArray:e,path:t,sectionName:i}},n.prototype.getCurrentState=function(){return this.currentState},n.prototype.pushState=function(t,e){this.storeCurrentState(t);var i=SNOWBEAT.Settings.SITE_NAME;this.currentState.pathArray[0]&&(i+=" "+NATION.Utils.camelcaseString(this.currentState.pathArray[0])),history.pushState(this.currentState,i,t),e&&this.onURLChanged()},n.prototype.createListeners=function(){t.addEventListener("popstate",this.onURLChanged.bind(this))},n.prototype.onURLChanged=function(t){this.currentState=t&&t.state?t.state:this.getStartState(),ga&&(ga("set","page","/"+this.currentState.path),ga("send","pageview")),this.trigger(SNOWBEAT.Events.URL_CHANGED)},SNOWBEAT.models.HistoryManager=new n}(window,document,void 0),function(t,e,i){"use strict";NATION.Utils.createNamespace("SNOWBEAT.models");var n={SITE_NAME:"Snowbeat"};SNOWBEAT.models.Settings=n}(window,document,void 0),function(t,e,i){"use strict";NATION.Utils.createNamespace("SNOWBEAT.views");var n=function(){NATION.EventDispatcher.call(this)};n.prototype=Object.create(NATION.EventDispatcher.prototype),n.prototype.constructor=n,SNOWBEAT.views.BaseView=n}(window,document,void 0),function(t,e,i){"use strict";NATION.Utils.createNamespace("SNOWBEAT.views");var n=function(t){NATION.EventDispatcher.call(this),this.__DOMElement=t};n.prototype=Object.create(NATION.EventDispatcher.prototype),n.prototype.constructor=n,n.prototype.showArticleLayout=function(){this.__DOMElement.className.search("dark")<0&&(this.__DOMElement.className+=" dark"),this.__DOMElement.className.search("minified")<0&&(this.__DOMElement.className+=" minified")},n.prototype.showNormalLayout=function(){this.__DOMElement.className=this.__DOMElement.className.replace(/ dark|dark| minified|minified/gi,"")},SNOWBEAT.views.FooterView=n}(window,document,void 0),function(t,e,i){"use strict";NATION.Utils.createNamespace("SNOWBEAT.views");var n=function(t){NATION.EventDispatcher.call(this),this.__DOMElement=t,this.setup()};n.prototype=Object.create(NATION.EventDispatcher.prototype),n.prototype.constructor=n,n.prototype.setup=function(){var i="ontouchstart"in e.documentElement||t.PointerEvent;i&&(e.documentElement.className+=" touch")},SNOWBEAT.views.HeaderView=n}(window,document,void 0),function(t,e,i){"use strict";NATION.Utils.createNamespace("SNOWBEAT.views");var n=function(t){SNOWBEAT.views.BaseView.call(this),this.__DOMElement=t,this.__pageSectionElements=[],this.pageSections=[],this.__blogSection=null,this.getElementReferences(),this.createPageSections(),this.createListeners()};n.prototype=Object.create(SNOWBEAT.views.BaseView.prototype),n.prototype.constructor=n,n.prototype.getElementReferences=function(){this.__pageSectionElements=this.__DOMElement.querySelectorAll(".js-page-section"),this.__blogSection=this.__DOMElement.querySelector(".js-blog-section")},n.prototype.createPageSections=function(){for(var t=0,e=this.__pageSectionElements.length;e>t;t++)this.pageSections.push(new SNOWBEAT.views.home.PageSection(this.__pageSectionElements[t]));this.blogSection=new SNOWBEAT.views.home.BlogSection(this.__blogSection)},n.prototype.createListeners=function(){this.blogSection.addListener(SNOWBEAT.Events.SECTION_EXPAND_REQUESTED,this.onSectionExpandRequested.bind(this)),SNOWBEAT.HistoryManager.addListener(SNOWBEAT.Events.URL_CHANGED,this.onURLChanged.bind(this))},n.prototype.onSectionExpandRequested=function(t){SNOWBEAT.HistoryManager.pushState(this.blogSection.getPageURL(),!0)},n.prototype.onURLChanged=function(t){var e=SNOWBEAT.HistoryManager.getCurrentState(),i=0,n=this.pageSections.length;if(!e||e.pathArray.length<=0){for(;n>i;i++)this.pageSections[i].expand();this.blogSection.shrink(),this.trigger(SNOWBEAT.Events.SECTION_SHRINK_REQUESTED)}else if("blog"===e.pathArray[0]){for(;n>i;i++)this.pageSections[i].shrink();this.blogSection.expand(),this.trigger(SNOWBEAT.Events.SECTION_EXPAND_REQUESTED)}},SNOWBEAT.views.HomeView=n}(window,document,void 0),function(t,e,i){"use strict";NATION.Utils.createNamespace("SNOWBEAT.views.home");var n=function(t){NATION.EventDispatcher.call(this),this.__DOMElement=t,this.__expandTriggers=[],this.__clickedExpandElement=null,this.transitionDuration=600,this.transitionEasing="easeInOutQuad",this.pageURL="",this.getElementReferences(),this.createListeners()};n.prototype=Object.create(NATION.EventDispatcher.prototype),n.prototype.constructor=n,n.prototype.getElementReferences=function(){this.__expandTriggers=this.__DOMElement.querySelectorAll(".js-expand-trigger"),this.__expandableContent=this.__DOMElement.querySelector(".js-expandable-content"),this.__showOnExpand=this.__DOMElement.querySelectorAll(".js-show-on-expand"),this.__hideOnExpand=this.__DOMElement.querySelectorAll(".js-hide-on-expand")},n.prototype.createListeners=function(){for(var t=0,e=this.__expandTriggers.length;e>t;t++)this.__expandTriggers[t].addEventListener("click",this.onExpandTriggerClicked.bind(this))},n.prototype.onExpandTriggerClicked=function(t){this.__clickedExpandElement=t.target,this.pageURL=t.target.getAttribute("data-url"),this.trigger(SNOWBEAT.Events.SECTION_EXPAND_REQUESTED),t.preventDefault()},n.prototype.expand=function(t){var i=this.__expandableContent||this.__DOMElement,n=NATION.Utils.getPosition(i).top;t?(i.style.height=i.children[0].clientHeight+"px",NATION.Utils.getPageElement().scrollTop=n):(NATION.Animation.start(i,{height:i.children[0].clientHeight},{jsMode:!0,duration:this.transitionDuration,easing:this.transitionEasing}),NATION.Animation.start(e.documentElement,{scrollTop:n},{duration:this.transitionDuration,easing:this.transitionEasing}));var r=0,s=this.__hideOnExpand.length;if(s>0)for(;s>r;r++)t?this.__hideOnExpand[r].style.opacity=0:NATION.Animation.start(this.__hideOnExpand[r],{opacity:0},{duration:this.transitionDuration/2},function(t){t.target.style.display="none"});if(r=0,s=this.__showOnExpand.length,s>0)for(;s>r;r++)this.__showOnExpand[r].style.opacity=0,this.__showOnExpand[r].style.display="inline-block",t?this.__showOnExpand[r].style.opacity=1:NATION.Animation.start(this.__showOnExpand[r],{opacity:1},{delay:this.transitionDuration/2,duration:this.transitionDuration/2})},n.prototype.shrink=function(t){var i=this.__expandableContent||this.__DOMElement;t?(i.style.removeProperty("height"),NATION.Utils.getPageElement().scrollTop=0):(NATION.Animation.start(i,{height:0},{jsMode:!0,duration:this.transitionDuration,easing:this.transitionEasing}),NATION.Animation.start(e.documentElement,{scrollTop:0},{duration:this.transitionDuration,easing:this.transitionEasing}));var n=0,r=this.__hideOnExpand.length;if(r>0)for(;r>n;n++)t?this.__hideOnExpand[n].style.opacity=1:(this.__hideOnExpand[n].style.display="inline-block",NATION.Animation.start(this.__hideOnExpand[n],{opacity:1},{duration:this.transitionDuration/2}));if(n=0,r=this.__showOnExpand.length,r>0)for(;r>n;n++)t?(this.__showOnExpand[n].style.opacity=0,this.onShowOnExpandHidden()):NATION.Animation.start(this.__showOnExpand[n],{opacity:0},{delay:this.transitionDuration/2,duration:this.transitionDuration/2},this.onShowOnExpandHidden.bind(this))},n.prototype.onShowOnExpandHidden=function(t){t.target.style.display="none"},n.prototype.getPageURL=function(){return this.pageURL},SNOWBEAT.views.home.BlogSection=n}(window,document,void 0),function(t,e,i){"use strict";NATION.Utils.createNamespace("SNOWBEAT.views.home");var n=function(t){NATION.EventDispatcher.call(this),this.__DOMElement=t,this.transitionEasing="easeInOutQuad",this.transitionDuration=600};n.prototype=Object.create(NATION.EventDispatcher.prototype),n.prototype.constructor=n,n.prototype.expand=function(t){var e=this.__DOMElement.children[0].clientHeight;t?this.onExpandComplete():NATION.Animation.start(this.__DOMElement,{height:e},{jsMode:!0,duration:this.transitionDuration,easing:this.transitionEasing},this.onExpandComplete.bind(this))},n.prototype.shrink=function(t){t?this.__DOMElement.style.height=0:NATION.Animation.start(this.__DOMElement,{height:0},{jsMode:!0,duration:this.transitionDuration,easing:this.transitionEasing})},n.prototype.onExpandComplete=function(){this.__DOMElement.style.removeProperty("height")},SNOWBEAT.views.home.PageSection=n}(window,document,void 0),function(t,e,i){"use strict";NATION.Utils.createNamespace("SNOWBEAT");var n=function(){this.__DOMElement=e.documentElement,this.header=null,this.footer=null,this.createModels(),this.createViews()};n.prototype.createModels=function(){SNOWBEAT.Events=SNOWBEAT.models.Events,SNOWBEAT.Settings=SNOWBEAT.models.Settings,SNOWBEAT.HistoryManager=SNOWBEAT.models.HistoryManager},n.prototype.createViews=function(){this.header=new SNOWBEAT.views.HeaderView(this.__DOMElement.querySelector(".js-header")),this.footer=new SNOWBEAT.views.FooterView(this.__DOMElement.querySelector(".js-footer"));var t=this.__DOMElement.querySelector("[data-view]"),e=t.getAttribute("data-view");e&&(this.activeView=new SNOWBEAT.views[e](t),this.activeView.addListener(SNOWBEAT.Events.SECTION_EXPAND_REQUESTED,this.onSectionExpanding.bind(this)),this.activeView.addListener(SNOWBEAT.Events.SECTION_SHRINK_REQUESTED,this.onSectionShrinking.bind(this)))},n.prototype.onSectionExpanding=function(t){this.footer.showArticleLayout()},n.prototype.onSectionShrinking=function(t){this.footer.showNormalLayout()},SNOWBEAT.Application=new n}(window,document,void 0);